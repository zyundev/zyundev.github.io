---
layout: post
categories: [개발독서, 켄트벡의 구현패턴]
tags: [켄트벡, 구현패턴]
---
- 객체는 외부에 드러나는 행위와 행위를 지원하기 위한 상태
- 프로그램에 있는 모든 상태를 잘게 쪼개서 적당한 곳에 저장할 수 있음

### 상태

- 상태를 관리하기 위한 방법
  1. 유사한 상태를 묶어서 관리
  2. 각 상태를 별도로 관리
- 상태가 유사한지 알수 있는 방법
  1. 두 개의 상태가 동일한 연산 안에서 사용되는지
  2. 동일한 시점에 생성되고 소멸되는지 확임

### 접근

- 메모리 접근 : 현재 저장된 값을 반환하는 일종의 계산
- 계산 : 아직 저장되지 않은 메모리 값을 읽는 일종의 값 접근

### 직접 접근

- 명확성이 뛰어난 대신 유연성이 떨어짐

### 간접 접근

### 공용 상태

### 가변 상태

- 데이터 요소의 이름을 키로 하고 값을 데이터로 하는 Map으로 표현

```java
class FlexibleObject {
	Map<String, Object> prperties = new HashMap<String, Object>();
	Object getProperty(String key) {
			return properties.get(key);
	}
	void setProperty(String key, Object value) {
			properties.set(key, value);
	}
}
```

- 이 맵에 공용상태를 사용하는 경우는 객체의 모든 변수는 생명기간이 동일해야 한다는 원칙을 어김

### 외재 상태

### 변수

- 변수 이름은 가급적이면 단순한 이름을 통해 코드를 단순화 시키는 게 좋음
- 변수의 생명기간은 가급적이면 변수의 범위에 가까워지도록 하자
- 선언하는 타입을 가급적 명확하게 정의
- 값을 하나만 갖는 변수와 값을 여러 갖는 변수를 구별하는 것이 중요

### 지역 변수

- 지역변수는 사용되기 직전에 가급적 최소 범위 내에서 선언하기

### 필드

- 객체 전반에 걸쳐 사용되므로 모든 필드는 클래스의 가장 앞이나 뒤에 한꺼번에 선언하는 것이 좋음
- 앞에 선언하는 경우는 독자에게 코드에서 어떤 필드들이 사용될지 문맥을 제공할 수 있음
- 나중에 선언하는 경우는 행위가 가장 중요하고 데이터는 구현 세부사항이니 신경 쓸 필요 없을 을 뜻함

### 파라미터

- 파라미터 수가 많아지면 나중에 문제 생길 수 있음

  → 의존성이 커지기 때문


### 수집 파라미터

### 옵션 파라미터

### 가변 인자

### 파라미터 객체

- 파라미터 리스트를 하나의 객체로 바꾼 후 사용하는 것을 말함
- 파라미터 객체를 사용하면 코드가 짧아지고 의도를 명확히 전달할 수 있음

### 상수

- 변화하지 않는 데이터를 말함
- static final로 선언되고 보통 변수 이름을 대문자로 표기함
- 실수를 줄이기 위해 사용됨

### 역할 제시형 작명

- 간단한 코딩을 위해선 짧은 이름이 좋고 타이핑 쉬운 쪽보다는 읽기 쉬운 쪽이 좋다고 함

### 선언 타입

- 여기서도 커뮤니케이션을 강조
- 커뮤니케이션에 초점을 두는 것은 유연성을 유지하기 위한 좋은 전략

### 초기화

- 변수가 사용되기 전에 알고 있는 상태로 만드는 작업
- 초기화는 가급적 선언과 함께 하는 것이 좋음

### 열성적 초기화

- 변수가 선언되거나 생성되자마자 초기화 함
- 가능하다면 변수는 선언문에서 초기화하는 것이 좋음

### 게으른 초기화

- 과거 컴퓨터 처리 능력이 떨어지던 시절에 많이 사용되던 기법
- 초기화 비용이 크지 않은 경우라면 열성적 초기화를 사용해도 문제 없음
- 단 게으른 초기화를 사용하면 열성적 초기화보다 가독성이 떨어짐
